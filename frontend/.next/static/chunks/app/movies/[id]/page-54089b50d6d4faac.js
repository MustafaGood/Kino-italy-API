(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[535,931],{6030:function(e,n,s){Promise.resolve().then(s.bind(s,8200))},8200:function(e,n,s){"use strict";s.d(n,{default:function(){return a}});var t=s(7821),i=s(8078);function a(e){let{days:n=5,movieId:s=null}=e,[a,r]=(0,i.useState)([]),[l,d]=(0,i.useState)(!0),[o,c]=(0,i.useState)(null);return((0,i.useEffect)(()=>{d(!0),fetch("/api/screenings").then(e=>e.json()).then(e=>{let n=e||[];s&&n.length>0&&(n=n.filter(e=>{var n,t;return(null===(t=e.attributes.movie)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.id)===s})),r(n),d(!1)}).catch(e=>{console.error("Error fetching screenings:",e),c("Kunde inte ladda visningar."),d(!1)})},[n,s]),l)?(0,t.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-gray-900"})}):o?(0,t.jsx)("div",{className:"bg-red-50 text-red-700 p-4 rounded-md",children:o}):a&&0!==a.length?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b",children:(0,t.jsxs)("h3",{className:"font-semibold",children:["Visningar de kommande ",n," dagarna"]})}),(0,t.jsx)("ul",{className:"divide-y divide-gray-200",children:a.map((e,n)=>{var s,i,a;let r=(null===(a=e.attributes.movie)||void 0===a?void 0:null===(i=a.data)||void 0===i?void 0:null===(s=i.attributes)||void 0===s?void 0:s.title)||"Ok\xe4nd film",l=new Date(e.attributes.start_time),d=l.toLocaleDateString("sv-SE",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),o=l.toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"});return(0,t.jsx)("li",{className:"px-6 py-4 hover:bg-gray-50",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[(0,t.jsxs)("div",{className:"mb-2 sm:mb-0",children:[(0,t.jsx)("span",{className:"font-semibold text-lg",children:r}),(0,t.jsxs)("p",{className:"text-gray-600",children:[d,", kl. ",o]})]}),(0,t.jsx)("a",{href:"/book/".concat(e.id),className:"inline-block bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700 transition-colors",children:"Boka platser"})]})},n)})})]}):(0,t.jsx)("div",{className:"bg-gray-50 p-6 text-center rounded-md",children:(0,t.jsxs)("p",{className:"text-gray-500",children:["Inga visningar hittades f\xf6r de kommande ",n," dagarna."]})})}}},function(e){e.O(0,[115,364,744],function(){return e(e.s=6030)}),_N_E=e.O()}]);